<!DOCTYPE html>
<html>
  <head>
    <title>C&P Wedding</title>
    <link
      href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="main.css" />
  </head>
  <body class="text-gray-700">
    <header class="text-center">
      <div id="flowerTop" class="bg-blue-200 h-44 my-14"></div>
      <h1 class="uppercase text-6xl my-5 tracking-widest" data-t>names</h1>
      <div class="uppercase inline-block text-lg/8 tracking-widest">
        <p class="inline mx-1" data-t>date</p>
        <p class="inline mx-1" data-t>•</p>
        <p class="inline mx-1" data-t>city</p>
        <div id="day-counter" class="center"></div>
      </div>
    </header>
    <nav class="mt-16">
      <ul class="flex gap-10 justify-center text-lg italic">
        <li><a href="" data-t>nav.home</a></li>
        <li><a href="" data-t>nav.story</a></li>
        <li><a href="" data-t>nav.rsvp</a></li>
        <li><a href="" data-t>nav.en</a></li>
        <li><a href="" data-t>nav.pl</a></li>
        <li><a href="" data-t>nav.kr</a></li>
      </ul>
    </nav>
    <script>
      langCookieKey = "chaewon_pawel_language";
      userLang =
        localStorage.getItem(langCookieKey) ||
        navigator.language ||
        navigator.userLanguage ||
        "en";
      userLang = userLang.split("-")[0];
      if (!["en", "pl", "kr"].includes(userLang)) {
        userLang = "en";
      }
      const theDate = new Date("June 10, 2023");
      const today = new Date();
      const diffTime = Math.abs(theDate - today);
      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
      let text = "";
      if (diffDays >= 0) {
        if (diffDays > 1) {
          text = {
            en: `${diffDays} days to go!`,
            pl: `jeszcze ${diffDays} dni!`,
            kr: `${diffDays} 일 후!`,
          }[userLang];
        } else if (diffDays == 0) {
          text = { en: "today", pl: "dziś", kr: "오늘" }[userLang];
        } else {
          text = { en: "tomorrow", pl: "jutro", kr: "내일" }[userLang];
        }
      }
      document.getElementById("day-counter").innerHTML = text;
    </script>
  </body>
</html>
