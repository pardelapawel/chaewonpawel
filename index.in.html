<!DOCTYPE html>
<html data-attr-t="" lang-t="language_name">
  <head>
    <title>C&amp;P Wedding</title>
    <link
      href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;700&amp;Noto+Serif+KR:wght@400;700&amp;display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=EB+Garamond&family=Noto+Serif+KR:wght@500&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="main.css" />
    <script
      src="https://kit.fontawesome.com/595feebb49.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body class="text-text bg-bg-col text-center m-auto">
    <header class="items-center flex flex-col relative pt-32">
      <div id="flowerTop" class="absolute -top-[50px]">
        <img src="svn/g1078.svg" alt="" />
      </div>
      <h1 class="uppercase text-6xl my-5 tracking-widest" data-t="">names</h1>
      <div class="uppercase inline-block text-lg/8 tracking-widest">
        <p class="inline mx-1" data-t="">date</p>
        <p class="inline mx-1" data-t="">•</p>
        <p class="inline mx-1" data-t="">address</p>
        <div id="day-counter" class="center"></div>
      </div>
    </header>
    <nav class="mt-16">
      <ul class="flex gap-10 justify-center text-lg italic">
        <li class="mobile:hidden"><a href="#home" data-t>nav.home</a></li>
        <li class="mobile:hidden"><a href="#story" data-t>nav.story</a></li>
        <li class="mobile:hidden"><a href="#rsvp" data-t>nav.rsvp</a></li>
        <li><a href="/" data-t>nav.en</a></li>
        <li><a href="/pl" data-t>nav.pl</a></li>
        <li><a href="/ko" data-t>nav.ko</a></li>
      </ul>
    </nav>

    <section id="home">
      <div>
        <img class="cover object-cover" src="public/cover.jpg" alt="" />
      </div>
      <div
        class="flex uppercase justify-center items-center object-center w-full text-4xl tracking-widest my-20"
      >
        <p class="flex w-80 mr-2 border-r-2 border-s-text-acc" data-t="">date_noComma</p>
        <p class="flex w-80 pl-2 ml-2" data-t="">address_noComma</p>
      </div>
    </section>
    <section id="poi">
      <div class="poi">
        <p class="text-lg uppercase my-2" data-t="">ceremony.title</p>
        <p class="text-lg" data-t="">ceremony.name</p>
        <a href="https://goo.gl/maps/J2Ao5xd9BxeaTF8R6" class="map">
          <i
            class="p-2 fa-regular fa-map-location-dot fa-2xl"
            style="font-family: fontawesome"
          ></i>
          <span class="address text-lg" data-t="">ceremony.address</span>
        </a>
      </div>
      <div class="poi">
        <p class="text-lg uppercase my-2" data-t="">reception.title</p>
        <p class="text-lg" data-t="">reception.name</p>
        <a href="https://goo.gl/maps/LaWxPfE9PisEj92h8" class="map">
          <i
            class="p-2 fa-regular fa-map-location-dot fa-2xl"
            style="font-family: fontawesome"
          ></i>
          <span class="address text-lg" data-t="">reception.address</span>
        </a>
      </div>
    </section>

    <section id="story">
      <h2 class="text-3xl" data-t>nav.story</h2>
      <div id="timeline" class="m-auto my-10 italic max-w-3xl">
        <div class="timeline-entry">
          <img src="public/2017.05.09_firstSelfie" />
          <div class="description">
            <p class="date">Friday, June 9, 2017</p>
            <p class="description">First selfie together</p>
          </div>
        </div>
      </div>
    </section>

    <section id="rsvp" class="m-auto">
      <h2 class="text-3xl" data-t>nav.rsvp</h2>
      <p id="rsvpText" data-t>rsvp.text</p>
      <form
        action="https://api.web3forms.com/submit"
        method="POST"
        class="flex flex-col gap-2 items-center p-4"
      >
        <input
          type="hidden"
          name="access_key"
          value="0efb20f4-8a16-457f-856b-b5fe764a3430"
        />
        <div class="fieldWrapper flex flex-col">
          <input
            class="input"
            placeholder=" "
            type="text"
            id="rsvpNameText"
            name="name"
            required
          />
          <label class="placeholder" id="rsvpName" for="rsvpNameText" data-t
            >rsvp.name.label</label
          >
          <span class="error-msg" id="rsvpNameTextErr"></span>
        </div>
        <div class="fieldWrapper flex flex-col">
          <input
            class="input"
            placeholder=" "
            type="text"
            id="rsvpGuestsText"
            name="rsvpGuestsText"
          />
          <label class="placeholder" id="rsvpGuests" for="rsvpGuestsText" data-t
            >rsvp.guest.label</label
          >
        </div>
        <div class="fieldWrapper flex flex-col">
          <textarea
            class="input"
            placeholder=" "
            name="messageText"
            id="messageText"
            cols="30"
            rows="4"
          ></textarea>
          <label class="placeholder" id="message" for="messageText" data-t
            >rsvp.message.label</label
          >
        </div>
        <input id="submit" data-attr-t value-t="submit" class="button submit w-min bg-bg-acc hover:bg-drawing text-text font-bold p-4 rounded focus:outline-none focus:shadow-outline" type="submit" />
      </form>
    </section>

    <footer class="py-10 relative">
      <div class="w-48 flex-col justify-center m-auto footer-logo">
        <p class="text-6xl" data-t="">initials</p>
        <hr class="my-2" />
        <p data-t>backTagline</p>
      </div>
      <div
        class="bottom-flower relative flex items-end justify-center -bottom-20"
      >
        <img src="svn/g54.svg" alt="" class="absolute left-1/3" />
        <img src="svn/g1550.svg" alt="" class="absolute right-1/3" />
        <img src="svn/g714.svg" alt="" class="fixed -left-5 bottom-0" />
        <img src="svn/g866.svg" alt="" class="fixed -right-2 bottom-10" />
      </div>
    </footer>

    <script>
      langCookieKey = "chaewon_pawel_language";
      console.log(document.documentElement.lang);
      console.log(localStorage.getItem(langCookieKey));
      console.log(navigator.language);
      console.log(navigator.userLanguage);
      userLang =
        document.documentElement.lang ||
        localStorage.getItem(langCookieKey) ||
        navigator.language ||
        navigator.userLanguage ||
        "en";
      userLang = userLang.split("-")[0];
      if (!["en", "pl", "ko"].includes(userLang)) {
        userLang = "en";
      }
      const theDate = new Date("June 10, 2023");
      const today = new Date();
      const diffTime = Math.abs(theDate - today);
      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
      let text = "";
      if (diffDays >= 0) {
        if (diffDays > 1) {
          text = {
            en: `${diffDays} days to go!`,
            pl: `jeszcze ${diffDays} dni!`,
            ko: `${diffDays} 일 후!`,
          }[userLang];
        } else if (diffDays == 0) {
          text = { en: "today", pl: "dziś", ko: "오늘" }[userLang];
        } else {
          text = { en: "tomorrow", pl: "jutro", ko: "내일" }[userLang];
        }
      }
      document.getElementById("day-counter").innerHTML = text;

      Array.from(document.getElementsByClassName("date")).map((el) => {
        let text = el.innerHTML,
          [day, month, year] = text.split("."),
          date = new Date(Date.UTC(year, month - 1, day));
        intDate = new Intl.DateTimeFormat(userLang, {
          dateStyle: "long",
          timeZone: "Europe/Warsaw",
        }).format(date);
        el.innerHTML = intDate;
      });
    </script>
  </body>
</html>
